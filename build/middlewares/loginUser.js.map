{"version":3,"file":"loginUser.js","names":["req","res","next","FindOne","email","body","status","user","Object","keys","length","UNAUTHORIZED","json","error","auth","get"],"sources":["../../src/middlewares/loginUser.js"],"sourcesContent":["import status from '../config/status'\nimport { FindOne } from '../database/queries'\n\nexport default async (req, res, next) => {\n  const user = await FindOne('User', {\n    email: req.body.email,\n    status: 'active',\n  })\n  if (!Object.keys(user).length) {\n    return res.status(status.UNAUTHORIZED).json({\n      error: `Account with '${req.body.email}' email do not exist`,\n    })\n  }\n  req.auth = user.get()\n  next()\n}\n"],"mappings":";;;;;;;;;AAAA;AACA;AAA6C;EAAA,yFAE9B,iBAAOA,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACf,IAAAC,gBAAO,EAAC,MAAM,EAAE;cACjCC,KAAK,EAAEJ,GAAG,CAACK,IAAI,CAACD,KAAK;cACrBE,MAAM,EAAE;YACV,CAAC,CAAC;UAAA;YAHIC,IAAI;YAAA,IAILC,MAAM,CAACC,IAAI,CAACF,IAAI,CAAC,CAACG,MAAM;cAAA;cAAA;YAAA;YAAA,iCACpBT,GAAG,CAACK,MAAM,CAACA,kBAAM,CAACK,YAAY,CAAC,CAACC,IAAI,CAAC;cAC1CC,KAAK,0BAAmBb,GAAG,CAACK,IAAI,CAACD,KAAK;YACxC,CAAC,CAAC;UAAA;YAEJJ,GAAG,CAACc,IAAI,GAAGP,IAAI,CAACQ,GAAG,EAAE;YACrBb,IAAI,EAAE;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACP;EAAA;IAAA;EAAA;AAAA;AAAA"}