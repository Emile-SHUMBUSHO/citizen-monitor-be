{"version":3,"file":"isInactiveEmail.js","names":["req","res","next","FindOne","email","body","user","status","EXIST","json","error"],"sources":["../../src/middlewares/isInactiveEmail.js"],"sourcesContent":["import status from '../config/status';\nimport { FindOne } from '../database/queries';\n/**\n * @param {object} req Request to the route\n * @param {object} res Response from server\n * @param {object} next middleware called to pass after success\n * @returns {object} returned response\n */\nexport default async (req, res, next) => {\n  const user = await FindOne('User', {\n    email: req.body.email,\n  });\n  if (user && user.status === 'active') {\n    return res.status(status.EXIST).json({\n      error: `Account with '${req.body.email}' is already active`,\n    });\n  }\n  next();\n};\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;EAAA,yFAMe,iBAAOA,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACf,IAAAC,gBAAO,EAAC,MAAM,EAAE;cACjCC,KAAK,EAAEJ,GAAG,CAACK,IAAI,CAACD;YAClB,CAAC,CAAC;UAAA;YAFIE,IAAI;YAAA,MAGNA,IAAI,IAAIA,IAAI,CAACC,MAAM,KAAK,QAAQ;cAAA;cAAA;YAAA;YAAA,iCAC3BN,GAAG,CAACM,MAAM,CAACA,kBAAM,CAACC,KAAK,CAAC,CAACC,IAAI,CAAC;cACnCC,KAAK,0BAAmBV,GAAG,CAACK,IAAI,CAACD,KAAK;YACxC,CAAC,CAAC;UAAA;YAEJF,IAAI,EAAE;UAAC;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACR;EAAA;IAAA;EAAA;AAAA;AAAA"}