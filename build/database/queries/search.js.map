{"version":3,"file":"search.js","names":["Model","key","field","include","order","meta","db","findAll","where","Op","iLike","logging","response"],"sources":["../../../src/database/queries/search.js"],"sourcesContent":["import db from '../models';\nimport { Op } from 'sequelize';\n\n/**\n * @param {object} modal\n * @returns {object} an object containing the information of the user or null\n */\n\nexport default async (Model, key = {}, field, include = [], order = []) => {\n  const meta = {};\n  order = order || [['createdAt', 'DESC']];\n  try {\n    const response = await db[Model].findAll(\n      {\n        where: {\n          [field]: {\n            [Op.iLike]: `%${key}%`,\n          },\n        },\n        include,\n        order,\n      },\n      { logging: false }\n    );\n    return { response, meta };\n  } catch (error) {\n    return error;\n  }\n};\n"],"mappings":";;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AAHA;EAAA,yFAKe,iBAAOA,KAAK;IAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;MAAA;QAAA;UAAA;YAAEC,GAAG,2DAAG,CAAC,CAAC;YAAEC,KAAK;YAAEC,OAAO,2DAAG,EAAE;YAAEC,KAAK,2DAAG,EAAE;YAC9DC,IAAI,GAAG,CAAC,CAAC;YACfD,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;YAAC;YAAA;YAAA,OAEhBE,kBAAE,CAACN,KAAK,CAAC,CAACO,OAAO,CACtC;cACEC,KAAK,uCACFN,KAAK,uCACHO,aAAE,CAACC,KAAK,aAAOT,GAAG,QAEtB;cACDE,OAAO,EAAPA,OAAO;cACPC,KAAK,EAALA;YACF,CAAC,EACD;cAAEO,OAAO,EAAE;YAAM,CAAC,CACnB;UAAA;YAXKC,QAAQ;YAAA,iCAYP;cAAEA,QAAQ,EAARA,QAAQ;cAAEP,IAAI,EAAJA;YAAK,CAAC;UAAA;YAAA;YAAA;YAAA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAI5B;EAAA;IAAA;EAAA;AAAA;AAAA"}