{"version":3,"file":"20221021152722-add-user-profile.js","names":["createUserProfile","userId","id","uuidv4","firstName","lastName","callingCode","phoneNumberVerified","createdAt","Date","updatedAt","module","exports","up","queryInterface","db","findOne","where","email","process","env","ADMIN_EMAIL","role","status","verified","raw","user","bulkInsert","down","bulkDelete"],"sources":["../../../src/database/seeders/20221021152722-add-user-profile.js"],"sourcesContent":["'use strict';\nimport { v4 as uuidv4 } from 'uuid'\nimport db from '../models';\n\nfunction createUserProfile(userId) {\n  return [\n    {\n      id: uuidv4(),\n      userId,\n      firstName: 'Admin',\n      lastName: 'Admin',\n      callingCode: '+250',\n      phoneNumberVerified: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    }\n  ]\n}\n\nmodule.exports = {\n  up: async (queryInterface) => {\n    const user = await db['User'].findOne({\n      where: {\n        email: process.env.ADMIN_EMAIL,\n        role: 'admin',\n        status: 'active',\n        verified: true,\n      },\n      raw: true,\n    });\n\n    queryInterface.bulkInsert('Profiles', createUserProfile(user.id), {})\n  },\n\n  down: (queryInterface) => {\n    queryInterface.bulkDelete('Profiles', null, {})\n  }\n};\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AAAA;AACb;AACA;AAEA,SAASA,iBAAiB,CAACC,MAAM,EAAE;EACjC,OAAO,CACL;IACEC,EAAE,EAAE,IAAAC,QAAM,GAAE;IACZF,MAAM,EAANA,MAAM;IACNG,SAAS,EAAE,OAAO;IAClBC,QAAQ,EAAE,OAAO;IACjBC,WAAW,EAAE,MAAM;IACnBC,mBAAmB,EAAE,IAAI;IACzBC,SAAS,EAAE,IAAIC,IAAI,EAAE;IACrBC,SAAS,EAAE,IAAID,IAAI;EACrB,CAAC,CACF;AACH;AAEAE,MAAM,CAACC,OAAO,GAAG;EACfC,EAAE;IAAA,wFAAE,iBAAOC,cAAc;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACJC,kBAAE,CAAC,MAAM,CAAC,CAACC,OAAO,CAAC;gBACpCC,KAAK,EAAE;kBACLC,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW;kBAC9BC,IAAI,EAAE,OAAO;kBACbC,MAAM,EAAE,QAAQ;kBAChBC,QAAQ,EAAE;gBACZ,CAAC;gBACDC,GAAG,EAAE;cACP,CAAC,CAAC;YAAA;cARIC,IAAI;cAUVZ,cAAc,CAACa,UAAU,CAAC,UAAU,EAAE3B,iBAAiB,CAAC0B,IAAI,CAACxB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACtE;IAAA;MAAA;IAAA;IAAA;EAAA;EAED0B,IAAI,EAAE,cAACd,cAAc,EAAK;IACxBA,cAAc,CAACe,UAAU,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EACjD;AACF,CAAC"}