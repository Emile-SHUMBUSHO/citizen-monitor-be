{"version":3,"file":"index.js","names":["normalizePort","val","port","parseInt","Number","isNaN","process","env","PORT","app","set","onError","error","syscall","bind","code","stdout","write","exit","server","listen","on"],"sources":["../src/index.js"],"sourcesContent":["import app from './app';\n/**\n * Normalize a port into a number, string, or false.\n * @param {int} val The port number.\n * @returns {int} The port number.\n */\nfunction normalizePort(val) {\n  const port = parseInt(val, 10);\n\n  if (Number.isNaN(port)) {\n    return val; // named pipe\n  }\n\n  if (port >= 0) {\n    return port; // port number\n  }\n\n  return false;\n}\n\n/**\n * Get port from environment and store in Express.\n */\nconst port = normalizePort(process.env.PORT || '4001');\napp.set('port', port);\n\n/**\n * Event listener for HTTP server \"error\" event.\n * Normalize a port into a number, string, or false.\n * @param {int} error The created error.\n * @returns {string} The error message.\n */\nfunction onError(error) {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string' ? `Pipe ${port}` : `Port ${port}`;\n\n  // handle specific listen errors with friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      process.stdout.write(`${bind} requires elevated privileges\\n`);\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      process.stdout.write(`${bind} is already in use\\n`);\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n/**\n * Listen on provided port, on all network interfaces.\n */\nconst server = app.server.listen(port, () => {\n  process.stdout.write(`Server is running on port: ${port}\\n`);\n});\n\n\napp.server.on('error', onError);\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,aAAa,CAACC,GAAG,EAAE;EAC1B,IAAMC,IAAI,GAAGC,QAAQ,CAACF,GAAG,EAAE,EAAE,CAAC;EAE9B,IAAIG,MAAM,CAACC,KAAK,CAACH,IAAI,CAAC,EAAE;IACtB,OAAOD,GAAG,CAAC,CAAC;EACd;;EAEA,IAAIC,IAAI,IAAI,CAAC,EAAE;IACb,OAAOA,IAAI,CAAC,CAAC;EACf;;EAEA,OAAO,KAAK;AACd;;AAEA;AACA;AACA;AACA,IAAMA,IAAI,GAAGF,aAAa,CAACM,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,MAAM,CAAC;AACtDC,eAAG,CAACC,GAAG,CAAC,MAAM,EAAER,IAAI,CAAC;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,SAASS,OAAO,CAACC,KAAK,EAAE;EACtB,IAAIA,KAAK,CAACC,OAAO,KAAK,QAAQ,EAAE;IAC9B,MAAMD,KAAK;EACb;EAEA,IAAME,IAAI,GAAG,OAAOZ,IAAI,KAAK,QAAQ,kBAAWA,IAAI,mBAAaA,IAAI,CAAE;;EAEvE;EACA,QAAQU,KAAK,CAACG,IAAI;IAChB,KAAK,QAAQ;MACXT,OAAO,CAACU,MAAM,CAACC,KAAK,WAAIH,IAAI,qCAAkC;MAC9DR,OAAO,CAACY,IAAI,CAAC,CAAC,CAAC;MACf;IACF,KAAK,YAAY;MACfZ,OAAO,CAACU,MAAM,CAACC,KAAK,WAAIH,IAAI,0BAAuB;MACnDR,OAAO,CAACY,IAAI,CAAC,CAAC,CAAC;MACf;IACF;MACE,MAAMN,KAAK;EAAC;AAElB;;AAEA;AACA;AACA;AACA,IAAMO,MAAM,GAAGV,eAAG,CAACU,MAAM,CAACC,MAAM,CAAClB,IAAI,EAAE,YAAM;EAC3CI,OAAO,CAACU,MAAM,CAACC,KAAK,sCAA+Bf,IAAI,QAAK;AAC9D,CAAC,CAAC;AAGFO,eAAG,CAACU,MAAM,CAACE,EAAE,CAAC,OAAO,EAAEV,OAAO,CAAC"}