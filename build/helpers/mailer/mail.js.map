{"version":3,"file":"mail.js","names":["dotenv","config","nodemailer","require","sendEmail","data","message","subject","transporter","createTransport","host","port","secure","auth","user","process","env","EMAIL","pass","EMAIL_APP_PASSWORD","sendMail","from","to","email","html","template"],"sources":["../../../src/helpers/mailer/mail.js"],"sourcesContent":["import dotenv from 'dotenv';\r\nimport mailjet from 'node-mailjet';\r\nimport template from './template';\r\nimport db from '../../database/models';\r\n\r\ndotenv.config();\r\n\r\nconst nodemailer = require('nodemailer');\r\n\r\nconst sendEmail = async(data, message, subject) =>{\r\n    let transporter = nodemailer.createTransport({\r\n        host: \"smtp.gmail.com\",\r\n        port: 587,\r\n        secure: false,\r\n        auth: {\r\n            user: process.env.EMAIL,\r\n            pass: process.env.EMAIL_APP_PASSWORD\r\n        }   \r\n    })\r\n\r\n  await transporter.sendMail({\r\n    from: `${process.env.EMAIL}`, // sender address\r\n    to: `${data.email}`, // list of receivers\r\n    subject: subject, // Subject line\r\n    html: template(message) // html body\r\n  });\r\n\r\n}\r\nexport default sendEmail"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AAEAA,kBAAM,CAACC,MAAM,EAAE;AAEf,IAAMC,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AAExC,IAAMC,SAAS;EAAA,yFAAG,iBAAMC,IAAI,EAAEC,OAAO,EAAEC,OAAO;IAAA;IAAA;MAAA;QAAA;UAAA;YACtCC,WAAW,GAAGN,UAAU,CAACO,eAAe,CAAC;cACzCC,IAAI,EAAE,gBAAgB;cACtBC,IAAI,EAAE,GAAG;cACTC,MAAM,EAAE,KAAK;cACbC,IAAI,EAAE;gBACFC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,KAAK;gBACvBC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG;cACtB;YACJ,CAAC,CAAC;YAAA;YAAA,OAEEX,WAAW,CAACY,QAAQ,CAAC;cACzBC,IAAI,YAAKN,OAAO,CAACC,GAAG,CAACC,KAAK,CAAE;cAAE;cAC9BK,EAAE,YAAKjB,IAAI,CAACkB,KAAK,CAAE;cAAE;cACrBhB,OAAO,EAAEA,OAAO;cAAE;cAClBiB,IAAI,EAAE,IAAAC,oBAAQ,EAACnB,OAAO,CAAC,CAAC;YAC1B,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAEH;EAAA,gBAlBKF,SAAS;IAAA;EAAA;AAAA,GAkBd;AAAA,eACcA,SAAS;AAAA"}